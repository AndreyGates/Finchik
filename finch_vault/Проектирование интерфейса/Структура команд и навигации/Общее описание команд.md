- [**/start**](obsidian://open?vault=finch_vault&file=%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%B0%2F%D0%A1%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%20%D0%B8%20%D0%BD%D0%B0%D0%B2%D0%B8%D0%B3%D0%B0%D1%86%D0%B8%D0%B8%2F%D0%9A%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D0%B0%20Start) — Приветствие и начало работы, определение цели инвестирования.
- [**/risk_profile**](obsidian://open?vault=finch_vault&file=%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%B0%2F%D0%A1%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%20%D0%B8%20%D0%BD%D0%B0%D0%B2%D0%B8%D0%B3%D0%B0%D1%86%D0%B8%D0%B8%2F%D0%9A%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D0%B0%20Risk%20Profile) — Оценка риск-профиля.
- **/help** — Инструкции по использованию.
- [**/portfolio**](obsidian://open?vault=finch_vault&file=%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%B0%2F%D0%A1%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%20%D0%B8%20%D0%BD%D0%B0%D0%B2%D0%B8%D0%B3%D0%B0%D1%86%D0%B8%D0%B8%2F%D0%9A%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D0%B0%20Portfolio) — Подбор и обновление портфеля.
- **/news** — Получение актуальных новостей.
- **/settings** — Настройки уведомлений и предпочтений.
- **/report** — Отчет о состоянии портфеля.
- **/feedback** — Обратная связь от пользователя.


### **1. Команда `/start`**

1. **Start** → **/start команда получена**
2. **Проверить, зарегистрирован ли пользователь**
    - Если **нет**:
        - **Регистрация нового пользователя** → **Отправить приветственное сообщение**
    - Если **да**:
        - **Перейти к следующему шагу**
3. **Отправить запрос на цель инвестирования**
4. **Ожидать ответ пользователя**
5. **Получить цель инвестирования**
6. **Сохранить выбранную цель**
7. **Перейти к этапу оценки риск-профиля**
8. **End**

---

### **2. Команда `/help`**

1. **Start** → **/help команда получена**
2. **Отправить сообщение с инструкцией по использованию бота**
3. **Ожидать действия пользователя**
4. **End**

---

### **3. Команда `/portfolio`**

1. **Start** → **/portfolio команда получена**
2. **Проверить, выбрал ли пользователь цель и риск-профиль**
    - Если **нет**:
        - Напоминаем пользователю пройти этап выбора цели и профиля.
    - Если **да**:
        - **Отправить рекомендации по портфелю** (с учетом цели и профиля)
3. **Отправить отчет о текущем портфеле** (должна быть информация по активам, их процентам и доходности)
4. **Ожидать действий пользователя (например, запросить изменение портфеля или ребалансировку)**
5. **End**

---

### **4. Команда `/news`**

6. **Start** → **/news команда получена**
7. **Запрос новостей с API** (Investing.com, Yandex News, и т.д.)
8. **Фильтрация новостей** (выбираем важные события для инвестора)
9. **Отправить новости пользователю** (3-4 новости по ключевым темам)
10. **Ожидать действий пользователя**
11. **End**

---

### **5. Команда `/settings`**

12. **Start** → **/settings команда получена**
13. **Предложить настройки**:
    - Частота уведомлений (еженедельно, ежемесячно, экстренные уведомления).
    - Настройки типов новостей (экономические новости, изменения на рынке и т.д.)
14. **Получить выбор пользователя**
15. **Сохранить настройки в базе данных**
16. **Отправить подтверждение изменения настроек**
17. **End**

---

### **6. Команда `/report`**

18. **Start** → **/report команда получена**
19. **Запросить отчет о состоянии портфеля за последние 7/30 дней**
20. **Формирование отчета**:
    - Текущая стоимость портфеля
    - Динамика доходности
    - Лидеры роста/падения
    - Рекомендации по ребалансировке
21. **Отправить отчет пользователю**
22. **Ожидать действий пользователя**
23. **End**

---

### **7. Команда `/feedback`**

24. **Start** → **/feedback команда получена**
25. **Запросить обратную связь**:
    - Оценка работы бота (например, от 1 до 5).
    - Комментарии и предложения.
26. **Сохранить обратную связь** в базе данных
27. **Отправить благодарность пользователю**
28. **End**